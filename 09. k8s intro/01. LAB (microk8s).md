# microk8s

## Шаг 1. Установка

Установите [`microk8s`](https://microk8s.io/docs/getting-started)

```sh
sudo snap install microk8s --classic --channel=1.33
```

Добавьте пользователя в группу `mickok8s`:

```sh
sudo usermod -a -G microk8s student
```

Создайте каталоги для kubectl:

```sh
mkdir -p ~/.kube && chmod 0700 ~/.kube
```

Перелогиньтесь, после чего проверьте статус microk8s:

```sh
microk8s status --wait-ready
```

## Шаг 2. kubectl

Для взаимодействия с `kubectl` нужно будет использовать команду `microk8s kubectl` или в `~/.bashrc` прописать alias (добавьте в самый низ файла):

```sh
alias kubectl='microk8s kubectl'
```

После чего перечитать файл в текущем терминале:

```sh
source ~/.bashrc
```

Проверьте с помощью `kubectl` список доступных нод:

```sh
kubectl get nodes
```

Ожидаемый вывод:

```sh
NAME     STATUS   ROLES    AGE     VERSION
dock01   Ready    <none>           v1.33.5
```

## Дополнительные команды

Для завершения работы `microk8s` можно использовать команду:

```sh
microk8s stop
```

Для старта `microk8s` можно использовать команду:

```sh
microk8s start
```

